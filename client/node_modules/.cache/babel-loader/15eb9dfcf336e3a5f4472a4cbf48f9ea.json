{"ast":null,"code":"var _jsxFileName = \"/home/agung/Downloads/joki/covid19-diagnosis/client/src/views/modal/memberForm.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Modal } from \"react-responsive-modal\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FORM_INITIAL = {\n  id: \"\",\n  name: \"\",\n  password: \"\",\n  retype: \"\",\n  phone: \"\",\n  gender: \"\",\n  place: \"\",\n  date: new Date(),\n  address: \"\",\n  email: \"\",\n  status: \"Terverifikasi\",\n  error: false\n};\n\nconst FormMember = ({\n  open,\n  onCloseModal,\n  editMode,\n  proses,\n  onSave,\n  bank,\n  handleDelete,\n  account\n}) => {\n  _s();\n\n  const [formData, setFormData] = useState(FORM_INITIAL);\n  useEffect(() => {\n    firebase.database().ref(\"settings/banks\").on(\"value\", snapshot => {\n      const banksObject = snapshot.val();\n\n      if (banksObject) {\n        const banksList = Object.keys(banksObject).map(key => ({ ...banksObject[key]\n        }));\n        setFormData(prevState => ({ ...prevState,\n          banks: banksList\n        }));\n      } else {\n        setFormData(prevState => ({ ...prevState,\n          banks: []\n        }));\n      }\n    });\n\n    const loadItem = () => {\n      if (bank.id === account.primary_bank) {\n        setFormData(prevState => ({ ...prevState,\n          primary: true\n        }));\n      } else {\n        setFormData(prevState => ({ ...prevState,\n          primary: false\n        }));\n      }\n\n      if (bank.bank) {\n        setFormData(prevState => ({ ...prevState,\n          bankId: bank.bank.id,\n          currentBank: bank.bank\n        }));\n      }\n\n      setFormData(prevState => ({ ...prevState,\n        id: bank.cid,\n        name: bank.name,\n        norek: bank.account,\n        branch: bank.branch,\n        city: bank.city\n      }));\n    };\n\n    if (bank !== null) {\n      // const phoneNumber = `0${address.phone.slice(3)}`;\n      loadItem();\n    }\n\n    return () => {\n      firebase.database().ref(`settings/banks`).off();\n    };\n  }, [bank]);\n\n  const handleInputChange = event => {\n    const {\n      target\n    } = event;\n    const {\n      name,\n      value\n    } = target;\n    setFormData(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const onSubmit = event => {\n    onSave(formData).then(() => {\n      setFormData(FORM_INITIAL);\n    });\n    event.preventDefault();\n  };\n\n  const onClear = () => {\n    setFormData(FORM_INITIAL);\n    onCloseModal();\n  };\n\n  const onChangeAcount = event => {\n    const {\n      validasi\n    } = formData;\n    const {\n      target\n    } = event;\n    const {\n      name,\n      value\n    } = target;\n    setFormData(prevState => ({ ...prevState,\n      [name]: value\n    }));\n    const lastIndex = validasi.length - 1;\n\n    if (value.length >= validasi[0] && value.length <= validasi[lastIndex]) {\n      setFormData(prevState => ({ ...prevState,\n        error: false\n      }));\n    } else {\n      setFormData(prevState => ({ ...prevState,\n        error: true\n      }));\n    }\n  };\n\n  const onChangeBank = event => {\n    const {\n      banks,\n      validasi,\n      norek\n    } = formData;\n    const {\n      target\n    } = event;\n    const {\n      value\n    } = target;\n    const index = target.selectedIndex;\n    const filter = banks.filter(item => item.bank_name === target[index].text);\n    const valid = JSON.parse(filter[0].valid_lengths);\n    const lastIndex = validasi.length - 1;\n\n    if (norek.length >= validasi[0] && norek.length <= validasi[lastIndex]) {\n      setFormData(prevState => ({ ...prevState,\n        error: false\n      }));\n    } else {\n      setFormData(prevState => ({ ...prevState,\n        error: true\n      }));\n    }\n\n    setFormData(prevState => ({ ...prevState,\n      currentBank: {\n        id: value,\n        name: target[index].text,\n        icon: filter[0].icon,\n        valid_lengths: filter[0].valid_lengths\n      },\n      validasi: valid,\n      bankId: value\n    }));\n  };\n\n  const handlerCheckbox = () => {\n    setFormData(prevState => ({ ...prevState,\n      primary: !prevState.primary\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: open,\n    onClose: onCloseModal,\n    center: true,\n    showCloseIcon: false,\n    classNames: {\n      modal: `rounded`\n    },\n    styles: {\n      overlay: {\n        zIndex: 1002\n      },\n      modal: {\n        padding: 0\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-120\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 pt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between pb-4 border-b border-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg\",\n            children: editMode ? `Ubah Rekening Bank` : `Tambah Rekening Bank`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"close\",\n            onClick: onClear,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"mt-5\",\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex md:items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-1/3\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block md:text-right mb-1 md:mb-0 pr-4 text-sm\",\n                htmlFor: \"name\",\n                children: \"Nama (harus sama dgn Rekening Bank)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-2/3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"name\",\n                name: \"name\",\n                value: formData.name,\n                onChange: handleInputChange,\n                className: \"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\",\n                placeholder: \" Nama\",\n                type: \"text\",\n                readOnly: editMode,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex md:items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-1/3\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block md:text-right mb-1 md:mb-0 pr-4 text-sm\",\n                htmlFor: \"norek\",\n                children: \"No. Rekening\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-2/3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"norek\",\n                name: \"norek\",\n                value: formData.norek,\n                onChange: onChangeAcount,\n                className: \"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\",\n                placeholder: \" No. Rekening\",\n                type: \"text\",\n                autoComplete: \"off\",\n                readOnly: editMode,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), formData.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-red-400 mt-1\",\n                children: \"No Rekening Salah\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex md:items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-1/3\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block md:text-right mb-1 md:mb-0 pr-4 text-sm\",\n                htmlFor: \"bank\",\n                children: \"Bank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-2/3\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"bank\",\n                onChange: onChangeBank,\n                className: \"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\",\n                value: formData.bankId,\n                readOnly: editMode,\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"- Pilih Bank -\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this), formData.banks.map(item => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.id,\n                    children: item.bank_name\n                  }, item.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex md:items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-1/3\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block md:text-right mb-1 md:mb-0 pr-4 text-sm\",\n                htmlFor: \"branch\",\n                children: \"Cabang Bank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-2/3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"branch\",\n                name: \"branch\",\n                type: \"text\",\n                value: formData.branch,\n                onChange: handleInputChange,\n                className: \"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\",\n                placeholder: \" Cabang Bank\",\n                readOnly: editMode,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex md:items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-1/3\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block md:text-right mb-1 md:mb-0 pr-4 text-sm\",\n                htmlFor: \"city\",\n                children: \"Kota/Kabupaten\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-2/3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"city\",\n                name: \"city\",\n                type: \"text\",\n                value: formData.city,\n                onChange: handleInputChange,\n                className: \"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\",\n                placeholder: \" Kota/Kabupaten\",\n                readOnly: editMode,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), formData.primary === false && editMode === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:flex md:items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:w-1/3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"md:w-2/3 block\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"primary\",\n                className: \"mr-2 leading-tight form-checkbox text-sales-pabrik\",\n                type: \"checkbox\",\n                checked: formData.primary,\n                onChange: handlerCheckbox\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Atur Sebagai Rekening Utama\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between py-4 rounded-b border-t border-gray-300\",\n            children: [formData.primary === false && editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full float-left text-left\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleDelete(formData.id),\n                className: \"w-4/12 bg-red-500 hover:bg-red-700 text-white py-2 rounded text-sm\",\n                children: \"Hapus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full text-right\",\n              children: [editMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: onClear,\n                className: \"w-3/12 bg-red-500 hover:bg-red-700 text-white py-2 rounded text-sm\",\n                children: \"Batal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this) : null, proses ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"bg-white-500 hover:bg-white-700 text-black w-3/12 py-2 rounded text-sm\",\n                children: \"Proses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: editMode ? \"w-3/12 bg-green-500 hover:bg-green-700 text-white py-2 rounded ml-2 text-sm\" : \"w-3/12 bg-green-500 hover:bg-green-700 text-white py-2 rounded text-sm\",\n                children: editMode ? \"Simpan\" : \"Tambah\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormMember, \"epMcdsAaGoeXszdpkrzmKHA6NyI=\");\n\n_c = FormMember;\nFormMember.propTypes = {\n  bank: PropTypes.instanceOf(Object),\n  account: PropTypes.instanceOf(Object),\n  editMode: PropTypes.bool,\n  proses: PropTypes.bool,\n  handleDelete: PropTypes.func.isRequired,\n  open: PropTypes.bool,\n  onSave: PropTypes.func.isRequired,\n  onCloseModal: PropTypes.func.isRequired\n};\nFormMember.defaultProps = {\n  editMode: false,\n  proses: false,\n  open: false,\n  bank: null,\n  account: null\n};\nexport default FormMember;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormMember\");","map":{"version":3,"sources":["/home/agung/Downloads/joki/covid19-diagnosis/client/src/views/modal/memberForm.js"],"names":["useEffect","useState","Modal","PropTypes","FORM_INITIAL","id","name","password","retype","phone","gender","place","date","Date","address","email","status","error","FormMember","open","onCloseModal","editMode","proses","onSave","bank","handleDelete","account","formData","setFormData","firebase","database","ref","on","snapshot","banksObject","val","banksList","Object","keys","map","key","prevState","banks","loadItem","primary_bank","primary","bankId","currentBank","cid","norek","branch","city","off","handleInputChange","event","target","value","onSubmit","then","preventDefault","onClear","onChangeAcount","validasi","lastIndex","length","onChangeBank","index","selectedIndex","filter","item","bank_name","text","valid","JSON","parse","valid_lengths","icon","handlerCheckbox","modal","overlay","zIndex","padding","propTypes","instanceOf","bool","func","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\n\nimport { Modal } from \"react-responsive-modal\";\nimport PropTypes from \"prop-types\";\n\nconst FORM_INITIAL = {\n  id: \"\",\n  name: \"\",\n  password: \"\",\n  retype: \"\",\n  phone: \"\",\n  gender: \"\",\n  place: \"\",\n  date: new Date(),\n  address: \"\",\n  email: \"\",\n  status: \"Terverifikasi\",\n  error: false,\n};\n\nconst FormMember = ({\n  open,\n  onCloseModal,\n  editMode,\n  proses,\n  onSave,\n  bank,\n  handleDelete,\n  account,\n}) => {\n  const [formData, setFormData] = useState(FORM_INITIAL);\n\n  useEffect(() => {\n    firebase\n      .database()\n      .ref(\"settings/banks\")\n      .on(\"value\", (snapshot) => {\n        const banksObject = snapshot.val();\n\n        if (banksObject) {\n          const banksList = Object.keys(banksObject).map((key) => ({\n            ...banksObject[key],\n          }));\n          setFormData((prevState) => ({\n            ...prevState,\n            banks: banksList,\n          }));\n        } else {\n          setFormData((prevState) => ({\n            ...prevState,\n            banks: [],\n          }));\n        }\n      });\n\n    const loadItem = () => {\n      if (bank.id === account.primary_bank) {\n        setFormData((prevState) => ({\n          ...prevState,\n          primary: true,\n        }));\n      } else {\n        setFormData((prevState) => ({\n          ...prevState,\n          primary: false,\n        }));\n      }\n      if (bank.bank) {\n        setFormData((prevState) => ({\n          ...prevState,\n          bankId: bank.bank.id,\n          currentBank: bank.bank,\n        }));\n      }\n      setFormData((prevState) => ({\n        ...prevState,\n        id: bank.cid,\n        name: bank.name,\n        norek: bank.account,\n        branch: bank.branch,\n        city: bank.city,\n      }));\n    };\n\n    if (bank !== null) {\n      // const phoneNumber = `0${address.phone.slice(3)}`;\n      loadItem();\n    }\n\n    return () => {\n      firebase.database().ref(`settings/banks`).off();\n    };\n  }, [bank]);\n\n  const handleInputChange = (event) => {\n    const { target } = event;\n    const { name, value } = target;\n\n    setFormData((prevState) => ({ ...prevState, [name]: value }));\n  };\n\n  const onSubmit = (event) => {\n    onSave(formData).then(() => {\n      setFormData(FORM_INITIAL);\n    });\n\n    event.preventDefault();\n  };\n\n  const onClear = () => {\n    setFormData(FORM_INITIAL);\n    onCloseModal();\n  };\n\n  const onChangeAcount = (event) => {\n    const { validasi } = formData;\n    const { target } = event;\n    const { name, value } = target;\n\n    setFormData((prevState) => ({ ...prevState, [name]: value }));\n    const lastIndex = validasi.length - 1;\n\n    if (value.length >= validasi[0] && value.length <= validasi[lastIndex]) {\n      setFormData((prevState) => ({ ...prevState, error: false }));\n    } else {\n      setFormData((prevState) => ({ ...prevState, error: true }));\n    }\n  };\n\n  const onChangeBank = (event) => {\n    const { banks, validasi, norek } = formData;\n    const { target } = event;\n    const { value } = target;\n\n    const index = target.selectedIndex;\n    const filter = banks.filter(\n      (item) => item.bank_name === target[index].text\n    );\n    const valid = JSON.parse(filter[0].valid_lengths);\n    const lastIndex = validasi.length - 1;\n    if (norek.length >= validasi[0] && norek.length <= validasi[lastIndex]) {\n      setFormData((prevState) => ({ ...prevState, error: false }));\n    } else {\n      setFormData((prevState) => ({ ...prevState, error: true }));\n    }\n\n    setFormData((prevState) => ({\n      ...prevState,\n      currentBank: {\n        id: value,\n        name: target[index].text,\n        icon: filter[0].icon,\n        valid_lengths: filter[0].valid_lengths,\n      },\n      validasi: valid,\n      bankId: value,\n    }));\n  };\n\n  const handlerCheckbox = () => {\n    setFormData((prevState) => ({ ...prevState, primary: !prevState.primary }));\n  };\n\n  return (\n    <Modal\n      open={open}\n      onClose={onCloseModal}\n      center\n      showCloseIcon={false}\n      classNames={{ modal: `rounded` }}\n      styles={{ overlay: { zIndex: 1002 }, modal: { padding: 0 } }}\n    >\n      <div className=\"w-120\">\n        <div className=\"px-6 pt-6\">\n          <div className=\"flex items-center justify-between pb-4 border-b border-gray-300\">\n            <div className=\"text-lg\">\n              {editMode ? `Ubah Rekening Bank` : `Tambah Rekening Bank`}\n            </div>\n            <button type=\"button\" className=\"close\" onClick={onClear}>\n              &times;\n            </button>\n          </div>\n\n          <form className=\"mt-5\" onSubmit={onSubmit}>\n            <div className=\"md:flex md:items-center mb-6\">\n              <div className=\"md:w-1/3\">\n                <label\n                  className=\"block md:text-right mb-1 md:mb-0 pr-4 text-sm\"\n                  htmlFor=\"name\"\n                >\n                  Nama (harus sama dgn Rekening Bank)\n                </label>\n              </div>\n              <div className=\"md:w-2/3\">\n                <input\n                  id=\"name\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  className=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\"\n                  placeholder=\" Nama\"\n                  type=\"text\"\n                  readOnly={editMode}\n                  required\n                />\n              </div>\n            </div>\n            <div className=\"md:flex md:items-center mb-6\">\n              <div className=\"md:w-1/3\">\n                <label\n                  className=\"block md:text-right mb-1 md:mb-0 pr-4 text-sm\"\n                  htmlFor=\"norek\"\n                >\n                  No. Rekening\n                </label>\n              </div>\n              <div className=\"md:w-2/3\">\n                <input\n                  id=\"norek\"\n                  name=\"norek\"\n                  value={formData.norek}\n                  onChange={onChangeAcount}\n                  className=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\"\n                  placeholder=\" No. Rekening\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  readOnly={editMode}\n                  required\n                />\n                {formData.error ? (\n                  <p className=\"text-xs text-red-400 mt-1\">No Rekening Salah</p>\n                ) : null}\n              </div>\n            </div>\n            <div className=\"md:flex md:items-center mb-6\">\n              <div className=\"md:w-1/3\">\n                <label\n                  className=\"block md:text-right mb-1 md:mb-0 pr-4 text-sm\"\n                  htmlFor=\"bank\"\n                >\n                  Bank\n                </label>\n              </div>\n              <div className=\"md:w-2/3\">\n                <select\n                  id=\"bank\"\n                  onChange={onChangeBank}\n                  className=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\"\n                  value={formData.bankId}\n                  readOnly={editMode}\n                  required\n                >\n                  <option>- Pilih Bank -</option>\n                  {formData.banks.map((item) => {\n                    return (\n                      <option key={item.id} value={item.id}>\n                        {item.bank_name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"md:flex md:items-center mb-6\">\n              <div className=\"md:w-1/3\">\n                <label\n                  className=\"block md:text-right mb-1 md:mb-0 pr-4 text-sm\"\n                  htmlFor=\"branch\"\n                >\n                  Cabang Bank\n                </label>\n              </div>\n              <div className=\"md:w-2/3\">\n                <input\n                  id=\"branch\"\n                  name=\"branch\"\n                  type=\"text\"\n                  value={formData.branch}\n                  onChange={handleInputChange}\n                  className=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\"\n                  placeholder=\" Cabang Bank\"\n                  readOnly={editMode}\n                  required\n                />\n              </div>\n            </div>\n            <div className=\"md:flex md:items-center mb-6\">\n              <div className=\"md:w-1/3\">\n                <label\n                  className=\"block md:text-right mb-1 md:mb-0 pr-4 text-sm\"\n                  htmlFor=\"city\"\n                >\n                  Kota/Kabupaten\n                </label>\n              </div>\n              <div className=\"md:w-2/3\">\n                <input\n                  id=\"city\"\n                  name=\"city\"\n                  type=\"text\"\n                  value={formData.city}\n                  onChange={handleInputChange}\n                  className=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-sales-pabrik\"\n                  placeholder=\" Kota/Kabupaten\"\n                  readOnly={editMode}\n                  required\n                />\n              </div>\n            </div>\n            {formData.primary === false && editMode === true ? (\n              <div className=\"md:flex md:items-center mb-6\">\n                <div className=\"md:w-1/3\" />\n                <label className=\"md:w-2/3 block\">\n                  <input\n                    name=\"primary\"\n                    className=\"mr-2 leading-tight form-checkbox text-sales-pabrik\"\n                    type=\"checkbox\"\n                    checked={formData.primary}\n                    onChange={handlerCheckbox}\n                  />\n                  <span className=\"text-sm\">Atur Sebagai Rekening Utama</span>\n                </label>\n              </div>\n            ) : null}\n\n            <div className=\"flex items-center justify-between py-4 rounded-b border-t border-gray-300\">\n              {formData.primary === false && editMode ? (\n                <div className=\"w-full float-left text-left\">\n                  <button\n                    type=\"button\"\n                    onClick={() => handleDelete(formData.id)}\n                    className=\"w-4/12 bg-red-500 hover:bg-red-700 text-white py-2 rounded text-sm\"\n                  >\n                    Hapus\n                  </button>\n                </div>\n              ) : null}\n              <div className=\"w-full text-right\">\n                {editMode ? (\n                  <button\n                    type=\"button\"\n                    onClick={onClear}\n                    className=\"w-3/12 bg-red-500 hover:bg-red-700 text-white py-2 rounded text-sm\"\n                  >\n                    Batal\n                  </button>\n                ) : null}\n                {proses ? (\n                  <button\n                    type=\"button\"\n                    className=\"bg-white-500 hover:bg-white-700 text-black w-3/12 py-2 rounded text-sm\"\n                  >\n                    Proses\n                  </button>\n                ) : (\n                  <button\n                    type=\"submit\"\n                    className={\n                      editMode\n                        ? \"w-3/12 bg-green-500 hover:bg-green-700 text-white py-2 rounded ml-2 text-sm\"\n                        : \"w-3/12 bg-green-500 hover:bg-green-700 text-white py-2 rounded text-sm\"\n                    }\n                  >\n                    {editMode ? \"Simpan\" : \"Tambah\"}\n                  </button>\n                )}\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nFormMember.propTypes = {\n  bank: PropTypes.instanceOf(Object),\n  account: PropTypes.instanceOf(Object),\n  editMode: PropTypes.bool,\n  proses: PropTypes.bool,\n  handleDelete: PropTypes.func.isRequired,\n  open: PropTypes.bool,\n  onSave: PropTypes.func.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n};\nFormMember.defaultProps = {\n  editMode: false,\n  proses: false,\n  open: false,\n  bank: null,\n  account: null,\n};\n\nexport default FormMember;\n"]},"metadata":{},"sourceType":"module"}